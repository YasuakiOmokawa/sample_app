<script type="text/javascript">
var arr = [], arr2 = [], arr1 = [];
gon.homearr.forEach(
    function(value){
    arr1.push( [ value[0], value[1], value[2] ] )
  }
);
arr.push(arr1);

var arr_org = [
    [
      [ 0, 65, 10, 'PV数 全体' ],
      [ 30, 22, 10, '平均PV数' ],
      [ 300, 91, 10, '訪問回数' ],
      [ 78, 79, 10, '曜日別' ],
      [ 600, 79, 10, '平均滞在時間' ],
      [ 100.0, 79, 10, '人気ページ' ],
      [ 50.0, 63, 10, '直帰率' ],
      [ 21.0, 91, 10, '再訪問率' ],
      [ 15.0, 54, 10, '新規訪問率' ],
    ]
];


jQuery( function() {


   // バブル（散布図）チャート相関グラフ
   // x軸, y軸, 大きさ, 項目名　の順に表示
   // 今回は x ... GAP y ... 相関　で現す。
  // GAP値は数値、時間、パーセンテージでばらつきがあるため、
  // パーセンテージを実数へ変換する。

  var options = {
    seriesDefaults: {
      color: 'gray',
        showLine: false,
        markerOptions: {
            size: 20
        },
        pointLabels: {
            show: true,
            location: 'n',
            ypadding: -12,
        }
    },
    highlighter: {
      show: true,
      showMarker: false,
      tooltipLocation: 'e',
      tooltipAxes: 'xy',
      formatString: 'x:%s, y:%s'
    },
    axesDefaults: {
      // showTicks: false,
      numberTicks: 3,
      tickOptions: {
        fontSize: '10pt',
        fontFamily: 'ヒラギノ角ゴ Pro W3',
      },
    },
    axes: {
      xaxis: {
        // ticks: ticks,
        label: 'GAP',
        min: 0,
        tickOptions: {
        },
      },
      yaxis: {
        // ticks: ticks,
        label: '相関',
        min: 0,
        max: 100,
        tickOptions: {
        },
      },
    },
  };

$('#square').bind('jqplotDataClick',
  function() {
    console.log("hello ");
  });

$.jqplot.postDrawHooks.push(function() {
  var selcts = [ $('.jqplot-xaxis-tick'), $('.jqplot-yaxis-tick') ];
  for (var i=0; i<selcts.length; i++){
    $(selcts[i][0]).text('小');
    $(selcts[i][1]).text('');
    $(selcts[i][2]).text('大');
  }



  // //send overlay canvas to back
  // $(".jqplot-overlayCanvas-canvas").css('z-index', '0');
  // //send series canvas to front
  // $(".jqplot-series-canvas").css('z-index', '1');
  // //make sure the tooltip is over the series
  // $(".jqplot-highlighter-tooltip").css('z-index', '2');
  // //must be on the very top since it is responsible for event catching and propagation
  // $(".jqplot-event-canvas").css('z-index', '5');

});

jQuery . jqplot('square', arr, options);

} );

</script>
